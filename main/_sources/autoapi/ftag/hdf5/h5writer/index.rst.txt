ftag.hdf5.h5writer
==================

.. py:module:: ftag.hdf5.h5writer


Classes
-------

.. autoapisummary::

   ftag.hdf5.h5writer.H5Writer


Module Contents
---------------

.. py:class:: H5Writer

   Writes jets to an HDF5 file.

   .. attribute:: dst

      Path to the output file.

      :type: Path | str

   .. attribute:: dtypes

      Dictionary of group names and their corresponding dtypes.

      :type: dict[str, np.dtype]

   .. attribute:: shapes

      Dictionary of group names and their corresponding shapes.

      :type: dict[str, tuple[int, ...]], optional

   .. attribute:: jets_name

      Name of the jets group. Default is "jets".

      :type: str, optional

   .. attribute:: add_flavour_label

      Whether to add a flavour label to the jets group. Default is False.

      :type: bool, optional

   .. attribute:: compression

      Compression algorithm to use. Default is "lzf".

      :type: str, optional

   .. attribute:: precision

      Precision to use. Default is None.

      :type: str, optional

   .. attribute:: full_precision_vars

      List of variables to store in full precision. Default is None.

      :type: list[str] | None, optional

   .. attribute:: shuffle

      Whether to shuffle the jets before writing. Default is True.

      :type: bool, optional

   .. attribute:: num_jets

      Number of jets to write.

      :type: int | None


   .. py:attribute:: dst
      :type:  pathlib.Path | str


   .. py:attribute:: dtypes
      :type:  dict[str, numpy.dtype]


   .. py:attribute:: shapes
      :type:  dict[str, tuple[int, Ellipsis]]


   .. py:attribute:: jets_name
      :type:  str
      :value: 'jets'



   .. py:attribute:: add_flavour_label
      :type:  bool
      :value: False



   .. py:attribute:: compression
      :type:  str
      :value: 'lzf'



   .. py:attribute:: precision
      :type:  str
      :value: 'full'



   .. py:attribute:: full_precision_vars
      :type:  list[str] | None
      :value: None



   .. py:attribute:: shuffle
      :type:  bool
      :value: True



   .. py:attribute:: num_jets
      :type:  int | None
      :value: None



   .. py:method:: __post_init__()


   .. py:method:: from_file(source: pathlib.Path, num_jets: int | None = 0, variables=None, **kwargs) -> H5Writer
      :classmethod:



   .. py:method:: create_ds(name: str, dtype: numpy.dtype) -> None


   .. py:method:: close() -> None


   .. py:method:: get_attr(name, group=None)


   .. py:method:: add_attr(name, data, group=None) -> None


   .. py:method:: copy_attrs(fname: pathlib.Path) -> None


   .. py:method:: write(data: dict[str, numpy.ndarray]) -> None


